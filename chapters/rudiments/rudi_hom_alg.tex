\section{Homological Algebra}
\subsection{Projective and Injective Objects}
Recall that in homological algebra we already knew that functor $\Hom(M,-) : \mathscr{A} \to \mathsf{Ab}$ is left exact for any $M \in \Ob(\mathscr{A})$, since $\Hom(M,-)$ preserves limits. A natural question is whether it is actually an exact functor or not. The following example shows that the functor can fail to be right exact.
\begin{example}
    Consider the following exact sequence:
\[\begin{tikzcd}[column sep=scriptsize]
	0 && {\mathbb{Z}} && {\mathbb{Z}} && {\mathbb{Z}/2\mathbb{Z}} && 0
	\arrow[from=1-1, to=1-3]
	\arrow["\times2", from=1-3, to=1-5]
	\arrow["{\operatorname{mod}2}", from=1-5, to=1-7]
	\arrow[from=1-7, to=1-9]
\end{tikzcd}\]
Let $M = \mathbb{Z}/2\mathbb{Z}$, the following sequence 
\[\begin{tikzcd}[column sep=scriptsize]
	{\operatorname{Hom}(\mathbb{Z}/2\mathbb{Z},\mathbb{Z})} && {\operatorname{Hom}(\mathbb{Z}/2\mathbb{Z},\mathbb{Z})} && {\operatorname{End}(\mathbb{Z}/2\mathbb{Z})} && 0
	\arrow["\times2", from=1-1, to=1-3]
	\arrow["{\operatorname{mod}2}", from=1-3, to=1-5]
	\arrow[from=1-5, to=1-7]
\end{tikzcd}\]
cannot be exact at all. Indeed, $\mathbb{Z}/2\mathbb{Z}$ is a torison module, but $\mathbb{Z}$ is torison-free, hence $\Hom(\mathbb{Z}/2\mathbb{Z}, \mathbb{Z})$ could only be $\{0\}$. But $|\End(\mathbb{Z}/2\mathbb{Z})|$ has $2$ elements, which is a contradiction.
\end{example}

So natually, it comes to us that when does $\Hom(M,-)$ be exact? The question leads to the definition of projective and injective objects.
\begin{definition}
    Let $\mathscr{A}$ be an abelian category, an object $M \in \Ob(\mathscr{A})$ is called \textbf{projective} (resp. \textbf{injective}), if $\Hom(M,-)$ (resp. $\Hom(-,M)$) is exact.
\end{definition}
The name actually comes from the following properties:
\begin{proposition}
    An object $M \in \Ob(\mathscr{A})$ is projective if and only if for any epimorphism $f : X\to Y$ and morphism $g : M \to Y$, there exists some $\varphi : M \to X$ such that the diagram 
    \[\begin{tikzcd}[column sep=scriptsize]
	&& M \\
	\\
	X && Y && 0
	\arrow["{\varphi}"', from=1-3, to=3-1]
	\arrow["g", from=1-3, to=3-3]
	\arrow["f", from=3-1, to=3-3]
	\arrow[from=3-3, to=3-5]
\end{tikzcd}\]
commutes.
\end{proposition}
\begin{remark}
    This property is often referred to as \textbf{the lifting property} of projective objects. Notice that the uniqueness of $\varphi$ is not required.
\end{remark}
\begin{proof}
    ($\Rightarrow$) $\Hom(M,-)$ preserves epimorphisms since it is right exact and preserves cokernels, hence we obtain 
    \[\begin{tikzcd}
	{\operatorname{Hom}(M,X)} && {\operatorname{Hom}(M,Y)} && 0
	\arrow["{f_{*}}", from=1-1, to=1-3]
	\arrow[from=1-3, to=1-5]
\end{tikzcd}\]
Since $\Hom(M,X)$ and $\Hom(M,Y)$ are abelian groups, hence $f_{*}$ is surjective. Therefore, for every $g \in \Hom(M,Y)$, there exists some $\varphi \in \Hom(M,X)$ such that $f\circ \varphi =  f_{*}(\varphi) = g$, which shows the commutativity of the diagram.

($\Leftarrow$) Now suppose we have the sequence 
\[\begin{tikzcd}
	X && Y && Z && 0
	\arrow["f", from=1-1, to=1-3]
	\arrow["g", from=1-3, to=1-5]
	\arrow[from=1-5, to=1-7]
\end{tikzcd}\]
exact, it suffices to show the $\Hom(M,-)$ one is also exact.

The surjectiveness of $g_{*}$ is a direct result of the lifting property. As for $f_{*}$, since $g_{*} \circ f_{*} = (g\circ f)_{*} = 0$, we obtain $\HIm f_{*} \subset \Ker g_{*}$. It suffices to show $\Ker g_{*} \subset \HIm f_{*}$. Suppose $\beta \in \Hom(M,Y)$ such that $g\circ \beta = 0$, consider the following diagram:
\[\begin{tikzcd}
	&&&&& M \\
	\\
	&& X && Y && Z && 0 \\
	{\operatorname{Coim}f} && {\operatorname{Im}f} && {\operatorname{Ker}g} && \textcolor{rgb,255:red,214;green,92;blue,92}{0}
	\arrow["\alpha"', color={rgb,255:red,214;green,92;blue,92}, from=1-6, to=3-3]
	\arrow["\beta"', from=1-6, to=3-5]
	\arrow["\gamma", from=1-6, to=3-7]
	\arrow["\delta", color={rgb,255:red,214;green,92;blue,92}, from=1-6, to=4-5]
	\arrow["f", from=3-3, to=3-5]
	\arrow["\pi"', two heads, from=3-3, to=4-1]
	\arrow["p"', two heads, from=3-3, to=4-3]
	\arrow["\eta", color={rgb,255:red,214;green,92;blue,92}, from=3-3, to=4-5]
	\arrow["g", from=3-5, to=3-7]
	\arrow[from=3-7, to=3-9]
	\arrow["{\cong }"{description}, hook, two heads, from=4-1, to=4-3]
	\arrow["\kappa"', hook, from=4-3, to=3-5]
	\arrow["\cong"{description}, hook, two heads, from=4-3, to=4-5]
	\arrow["\iota", hook, from=4-5, to=3-5]
	\arrow[color={rgb,255:red,214;green,92;blue,92}, from=4-5, to=4-7]
\end{tikzcd}\]
By the universal property of kernel, there is a unique $\delta : M \to \Ker g$ and $\eta : X \to \Ker g$ such that $\beta = \iota \circ \delta$ and $f = \iota \circ \eta$. 

We claim that $\eta$ is surjective. The exactness of the original sequence yields the cannonical morphism $\HIm f \to \Ker g$ to be isomorphic, hence $$f = \iota \circ \eta = \iota \circ (X \twoheadrightarrow \operatorname{Coim}f \xrightarrow{\cong} \Ker g) \Leftrightarrow \eta = (X\twoheadrightarrow \Ker g)$$
by the injectiveness of $\iota$. 

Now, the lifting property of $M$ gives an $\alpha \in \Hom(M,X)$ which commutes the red diagram. Since $f \circ \alpha = (\iota \circ \eta) \circ \alpha = \iota \circ \delta = \beta$, we conclude that $\beta = f_{*}(\alpha) \in \HIm f_{*}$, which in turn shows that $\Ker g_{*} \subset \HIm f_{*}$ and completes the proof.
\end{proof}

The analogue to the result above is \textit{the extension property} of injective objects, which can be stated as following:
\begin{proposition}
    An object $M \in \Ob(\mathscr{A})$ is injective if and only if for any monomorphism $f : X\to Y$ and morphism $g : X \to M$, there exists some $\varphi : Y \to M$ such that the diagram
\[\begin{tikzcd}
	0 && X && Y \\
	\\
	&& M
	\arrow[from=1-1, to=1-3]
	\arrow["f", from=1-3, to=1-5]
	\arrow["g", from=1-3, to=3-3]
	\arrow["\varphi", from=1-5, to=3-3]
\end{tikzcd}\]
commutes. We say $g$ is extended to $\varphi$ by $f$.
\end{proposition}

An interesting fact is that projective and injective objects have close relationship with split exact sequences, hence are close with direct sums.
\begin{proposition}
	Suppose $0\longrightarrow A \xlongrightarrow{f} B \xlongrightarrow{g} C \longrightarrow 0$ is an exact sequence in an abelian category $\mathscr{A}$, then the sequence splits if $C$ (resp. $A$) is projective (resp. injective), hence we obtain $B \cong A\oplus C$.
\end{proposition}
\begin{proof}
	Suppose $C$ be a projective object, then we obtain $\varphi : C \to B$ such that the diagram
	\[\begin{tikzcd}[column sep=scriptsize]
	&& C \\
	\\
	B && C && 0
	\arrow["{{\varphi}}"', from=1-3, to=3-1]
	\arrow["{\operatorname{id}}"{inner sep=.8ex}, "{\shortmid\shortmid}"{marking}, no head, from=1-3, to=3-3]
	\arrow["g", from=3-1, to=3-3]
	\arrow[from=3-3, to=3-5]
\end{tikzcd}\]
commutes, meaning that $g \circ \varphi = \id_C$, which shows that the sequence splits.

As for the case of injective objects, the proof is a complete analogue.
\end{proof}

Talking about the direct sum, the following proposition shows that the direct summand of project objects is also projective.
\begin{proposition}\label{ref: direct sum of projective modules}
	Suppose $I$ is an index set, $\{M_i\}_{i \in I}$ is a family of objects in an abelian category $\mathscr{A}$, then $\bigoplus_{i\in I} M_i$ is projective if and only if each $M_i$ is projective.
\end{proposition}
\begin{proof}
	($\Leftarrow$) Suppose each $M_i$ is projective, we are going to show $N = \bigoplus_{i\in I} M_i$ is also projective. Let $f : X \to Y$ be an epimorphism, $\tilde{g} : \bigoplus_{i\in I} M_i \to Y$, which in fact gives a family of morphisms $g_i : M_i \to Y$ by setting $g_i = \tilde{g} \circ \iota_i$, where $\{\iota_i\}$ are cannonical morphisms. Now consider the diagram:
	\[\begin{tikzcd}[column sep=scriptsize]
	&&& X \\
	\\
	&&& Y \\
	{M_i} && {\bigoplus_{i\in I} M_i} && {M_j} \\
	&&& 0
	\arrow["f", dashed, two heads, from=1-4, to=3-4]
	\arrow[dashed, from=3-4, to=5-4]
	\arrow["{\varphi_i}", from=4-1, to=1-4]
	\arrow["{g_i}", dashed, from=4-1, to=3-4]
	\arrow["\iota_i"{description}, from=4-1, to=4-3]
	\arrow["{{\tilde{\varphi}}}", from=4-3, to=1-4]
	\arrow["{{\tilde{g}}}"', dashed, from=4-3, to=3-4]
	\arrow["{\varphi_j}"', from=4-5, to=1-4]
	\arrow["{g_j}"', dashed, from=4-5, to=3-4]
	\arrow["{{\iota_j}}"{description}, from=4-5, to=4-3]
\end{tikzcd}\]
By the liftting property of each $M_i$, we obtain $\varphi_i : M \to X$ such that $g_i = f\circ \varphi_i$. Now, by the universal property of direct sum, we obtain a $\tilde{\varphi} : \bigoplus_{i \in I} M_i\to X$ such that $\varphi_i = \tilde{\varphi} \circ \iota_i$. 

We aim to show the whole diagram commutes, which only requires $\tilde{g} = f\circ \tilde{\varphi}$. In fact, we have $(f\circ \tilde{\varphi}) \circ \iota_i = f\circ \varphi_i = g_i$ for each $i\in I$, thus by the universal property, we have $f\circ \tilde{\varphi} = \tilde{g}$, which completes the proof.

($\Rightarrow$) Now suppose $\bigoplus_{i\in I} M_i$ be projective, $g_i : M_i \to Y$. Our goal is to show the existence of some $\varphi_i$ such that $g_i = f \circ \varphi_i$. Actually, set $g_j = 0$ for any $j\neq i$, which defines a unique $\tilde{g} : \bigoplus_{i \in I} M_i \to Y$ which commutes the diagram in the bottom surface. By the lifting property, we obtain a $\tilde{\varphi} : \bigoplus_{i\in I} M_i \to X$, which commutes the vertical diagram. Now notice that $f \circ (\tilde{\varphi} \circ \iota_i) = g_i$. We may set $\varphi_i = \tilde{\varphi} \circ \iota_i$, which completes the proof.
\end{proof}

\begin{corollary}
	Direct summands of a projective object are always projective. 
\end{corollary}

Now we state a much more general fact about projective and injective objects.
\begin{proposition}
	Let $\mathcal{F} : \mathscr{A} \to \mathscr{B}$ be a functor, where $\mathscr{A}, \mathscr{B}$ are both abelian categories. If $\mathcal{F}$ admits a right adjoint $\mathcal{G} : \mathscr{B} \to \mathscr{A}$ which preserves surjectiveness, then $\mathcal{F}$ preserves projectiveness.
\end{proposition}
\begin{proof}
	Suppose $M \in \Ob(\mathscr{A})$ be projective, we aim to show that $\mathcal{F}(M)$ is also projective. Let $f : X \twoheadrightarrow Y$ be an arbitrary epimorphism, where $X, Y\in \Ob(\mathscr{B})$, the adjunction suggests the diagram 
	\[\begin{tikzcd}[column sep=scriptsize]
	{\operatorname{Hom}_{\mathscr{A}}(M,\mathcal{G}(X))} &&& {\operatorname{Hom}_{\mathscr{A}}(M,\mathcal{G}(Y))} \\
	\\
	{\operatorname{Hom}_{\mathscr{B}}(\mathcal{F}(M),X)} &&& {\operatorname{Hom}_{\mathscr{B}}(\mathcal{F}(M),Y)}
	\arrow["{(\mathcal{G}(f))_{*}}", from=1-1, to=1-4]
	\arrow["{\eta_X}"', hook, two heads, from=1-1, to=3-1]
	\arrow["{\eta_Y}", hook, two heads, from=1-4, to=3-4]
	\arrow["{f_{*}}", from=3-1, to=3-4]
\end{tikzcd}\]
commutes. Suppose $v : \mathcal{F}(M) \to Y$, we obtain a $\eta_Y^{-1} \circ v : M \to \mathcal{G}(Y)$. Since $\mathcal{G}(f)$ is still an epimorphism in $\mathscr{A}$, the liftting property of $M$ gives some $u : M \to \mathcal{G}(X)$ such that the diagram 
\[\begin{tikzcd}[column sep=scriptsize]
	&& M \\
	\\
	{\mathcal{G}(X)} && {\mathcal{G}(Y)} && 0
	\arrow["u"', from=1-3, to=3-1]
	\arrow["{\eta_Y^{-1}\circ v}", from=1-3, to=3-3]
	\arrow["{\mathcal{G}(f)}", from=3-1, to=3-3]
	\arrow[from=3-3, to=3-5]
\end{tikzcd}\]
commutes. Let $\tilde{u} = \eta_X \circ u \in \Hom_\mathscr{B}(\mathcal{F}(M), X)$, the adjuction suggests 
    $$f_{*}(\tilde{u}) =  f \circ \eta_X(u) 
                       = \eta_Y(\mathcal{G}(f)\circ u) 
                       = \eta_Y(\eta_Y^{-1}\circ v) = v,$$
which means that the following diagram
\[\begin{tikzcd}[column sep=scriptsize]
	&& {\mathcal{F}(M)} \\
	\\
	X && Y && 0
	\arrow["{\eta_X(u)}"', from=1-3, to=3-1]
	\arrow["v", from=1-3, to=3-3]
	\arrow["f", from=3-1, to=3-3]
	\arrow[from=3-3, to=3-5]
\end{tikzcd}\]
commutes, which completes the proof.
\end{proof}
\begin{remark}
    Now let me simply explain how this derives the result that direct sum of projective objects is still projective. Consider the coproduct functor $\mathcal{F} = \bigoplus_{i\in I}(-) : \mathscr{A}^{I} \to \mathscr{A}$ defined by $(M_i)_{i\in I} \mapsto \bigoplus_{i\in I} M_i$, and the diagonal functor $\Delta : \mathscr{A} \to \mathscr{A}^I$ defined by $M \mapsto (M)_{i\in I}$. We aim to show that $\Delta$ is the right adjoint of $\mathcal{F}$.

    In fact, suppose $\mathscr{I} \in \mathscr{A}^I$, the universal property of direct sum suggests that for each $A \in \Ob(\mathscr{A})$, we have
    $$\begin{aligned}
    \Hom_{\mathscr{A}}(A, \mathcal{F}(\mathscr{I})) = \Hom_\mathscr{A}\left(A, \bigoplus_{i \in I} M_i\right) &\cong \bigoplus_{i\in I} \Hom_\mathscr{A}(A, M_i) \\ 
    &\cong \Hom_{\mathscr{A}^I}(\Delta(A), \mathscr{I}),
    \end{aligned}$$
    which suggests adjunction. Now, $\Delta$ preserves surjectiveness since epimorphisms in $\mathscr{A}^I$ are defined componentwise, which completes the proof.
\end{remark}

Now let's turn to some more specific category. Suppose $R$ be a commutative ring, and $\mathscr{A} = R\text{-}\mathsf{Mod}$. We will see that projective modules are exactly the direct summands of free modules.
\begin{proposition}
	Let $M$ be an $R$-module. Then $M$ is projective if and only if there exists some free $R$-module $N$ such that $N \cong M\oplus M'$.
\end{proposition}
\begin{proof}
	($\Leftarrow$) Immediately from Proposition \ref{ref: direct sum of projective modules}.

	($\Rightarrow$) Take $M^I = F(M)$, where $F$ is the free functor. Then we have a cannonical epimorphism $f : M^I \twoheadrightarrow M$. Consider the following exact sequence
	\[\begin{tikzcd}[column sep=scriptsize]
	0 && {\operatorname{Ker}f} && {M^I} && M && 0
	\arrow[from=1-1, to=1-3]
	\arrow["\iota", from=1-3, to=1-5]
	\arrow["f", from=1-5, to=1-7]
	\arrow[from=1-7, to=1-9]
\end{tikzcd}\]
Since $M$ is projective, the sequence splits. Hence, we obtain $M^I \cong M\oplus \Ker f$.
\end{proof}

We have seen that submodules of a free module are still free if $R$ is a PID. Hence, projective modules are exactly free modules. However, generally it is not true.
\begin{example}
	$\mathbb{Z}/6\mathbb{Z}$-module $\mathbb{Z}/2\mathbb{Z}$ is projective, but not free.
\end{example}
\begin{proof}
	By the Chinese Remainder Theorem we obtain $\mathbb{Z}/6\mathbb{Z} \cong \mathbb{Z}/2\mathbb{Z} \oplus \mathbb{Z}/3\mathbb{Z}$ as $\mathbb{Z}$-module. Tensor product functor $(-)\otimes_{\mathbb{Z}} \mathbb{Z}/6\mathbb{Z}$ is additive, hence preserves direct sums. We obtain $\mathbb{Z}/6\mathbb{Z} \cong (\mathbb{Z}/2\mathbb{Z} \otimes_{\mathbb{Z}} \mathbb{Z}/6\mathbb{Z}) \oplus (\mathbb{Z}/3\mathbb{Z} \otimes_{\mathbb{Z}} \mathbb{Z}/6\mathbb{Z})$, which shows that $\mathbb{Z}/2\mathbb{Z}$ is projective as $\mathbb{Z}/6\mathbb{Z}$ module.

	It is obvious that $\mathbb{Z}/2\mathbb{Z}$ is not free, since $2 \times [1] = 0$.
\end{proof}

Not every submodule of a free module is one of its direct summands, hence, not every submodule of a free module is projective. (But this is true if $R$ is a PID)
\begin{example}
	$\mathbb{Z}/2\mathbb{Z}$ is not projective as $\mathbb{Z}/4\mathbb{Z}$-module, but is a submodule of the latter, which is free on itself.
\end{example}
\begin{proof}
	Suppose that there is some $\mathbb{Z}/4\mathbb{Z}$-module $N$ such that $N = \mathbb{Z}/2\mathbb{Z} \oplus M$, consider the element $a = \overline{1} + 0$, we have $2a =2\times \overline{1} + 0 = 0$, which is a contradiction since it is a torison element.
\end{proof}

Even submodule of a free module may fails to be projective, not to mention the case of submodules of a projective module. So naturally a question arises: when do the submodules of a projective module still be projective? A common case is when $R$ is a Dedekind domain.

\begin{definition}
	A ring $R$ is called \textbf{left semi-hereditary} if every finite generated left ideal of $R$ is projective. Moreover, if every left ideal of $R$ is projective, then $R$ is called \textbf{left hereditary}.
\end{definition}

The most important result of hereditary rings is the following theorem.
\begin{theorem}[Kaplansky]
	Let $R$ be a left hereditary ring, $F = \bigoplus_{i\in I} Re_i$ be a free module on $R$. Then any submodule $P$ of $F$ is isomorphic to a direct sum of left ideals of $R$, which shows that $P$ is projective.
\end{theorem}
\begin{proof}
	The key is to use the fact that every set can be well-ordered. Now suppose we have a well order on $I$, let $F_{<\alpha} = \bigoplus_{\beta < \alpha} Re_{\beta}$, and $F_{\leq\alpha} = \bigoplus_{\beta \leq \alpha} Re_{\beta}$ for each $\alpha \in I$. Set $P_{<\alpha} = P \cap F_{<\alpha}$ and $P_{\leq\alpha} = P \cap F_{\leq\alpha}$.

	We shall define a homomorphism $f_{\alpha} : P_{\leq \alpha} \to R$ by setting $f\left(\sum_{\beta \in I} r_\beta e_\beta\right) = r_\alpha$. It is trivial to verify that $\ker f_\alpha \cong P_{<\alpha}$, hence we obtain a exact sequence
	\[\begin{tikzcd}[column sep=scriptsize]
	0 && {\ker f_\alpha} && {P_{\leq \alpha}} && {\operatorname{im}f_\alpha} && 0
	\arrow[from=1-1, to=1-3]
	\arrow[from=1-3, to=1-5]
	\arrow["{f_\alpha}", from=1-5, to=1-7]
	\arrow[from=1-7, to=1-9]
\end{tikzcd}\]
Since $\operatorname{im}f_\alpha$ is a left ideal of $R$, hence is projective. We obtain $P_{\leq \alpha} \cong P_{<\alpha} \oplus \operatorname{im}f_{\alpha}$ since the sequence splits. Let $Q_{\alpha}$ be the submodule of $P_{\leq \alpha}$ such that $f_{\alpha}|_{Q_\alpha} : Q_\alpha \to \operatorname{im}f_{\alpha}$ is an isomorphism.

We claim that $P \cong \bigoplus_{\alpha \in I} Q_\alpha$. Suppose there is some $x \in P$ such that $x \notin \sum_{\alpha \in I} Q_\alpha$. But since $x \in P \subset F$, we have $x = a_{\alpha_1}e_{\alpha_1} + \cdots + a_{\alpha_n}e_{\alpha_n}$, where $a_{\alpha_i} \in R$. Hence, there is a minimal $\beta = \alpha_n \in I$ such that $x \in P_{\leq\beta} = P_{<\beta} \oplus Q_\beta$. Hence, $x = y + z$ for some $y\in P_{<\beta}$ and $z \in Q_\beta$, which shows that $y \notin \sum_{\alpha\in I} Q_\alpha$, a contradiction with the minimality of $\beta$. Therefore, $P = \sum_{\alpha \in I} Q_\alpha$.

Now we only to verify that the sum is actually direct sum. Suppose there are some $a_{\alpha_i} \in Q_{\alpha_i}$ such that $a_{\alpha_1} + \cdots + a_{\alpha_n} = 0$. WLOG, assume $\alpha_1 < \cdots < \alpha_n$, we obtain $$a_{\alpha_n} = -(a_{\alpha_1} + \cdots + a_{\alpha_{n-1}}) \in Q_{\alpha_n} \cap P_{<\alpha} = 0$$
By induction on $n$, we obtain $a_{\alpha_i} = 0$ for every $1 \leq i \leq n$, which completes the proof.
\end{proof}
For more specific properties of hereditary ring, see \cite{ringel_ext2_online}.

\begin{corollary}
	Let $R$ be a left hereditary ring, $P$ be a left $R$-module. Then $P$ is projective if and only if $P$ is a submodule of some free module.
\end{corollary}
\begin{corollary}
	Let $R$ be a ring, then TFAE:
	\begin{enumerate}
		\item $R$ is left hereditary;
		\item Any submodule of a free $R$-module is projective;
		\item Any submodule of a projective $R$-module is projective. 
	\end{enumerate}
\end{corollary}
\begin{proof}
	(1)$\Rightarrow$ (2), (2)$\Rightarrow$(3) are trivial. Assume (3), since $R$ is free over itself, hence every submodule (i.e. left ideals) of $R$ is projective. In other words, $R$ is left hereditary.
\end{proof}

\begin{definition}
	A domain $R$ is called a \textbf{Dedekind domain} if it is hereditary.
\end{definition}
So by the proposition, we know that a Dedekind domain $R$ is a domain over which submodules of a projective module are still projective.
\begin{remark}
	You may hear that a Dedekind domain is a integral-closed Noetherian domain with Krull dimension $1$. We will prove the equivalence of those two definitions later.
\end{remark}

% The Baer criterion of injective modules: the extension property of I guarantees injectiveness.

\subsection{Flat Modules}
We have already seen in homological algebra that $-\otimes_R M \dashv \Hom(M,-)$ by the natural isomorphism 
$$\Hom_{R\text{-}\mathsf{Mod}}(A\otimes_R M, B) \cong \Hom_{R\text{-}\mathsf{Mod}}(A, \Hom(M,B))$$
given by the universal property of tensor products, that is: every bilinear transformation $\tau : A\times M \to B$ factors through $A\otimes_R M$. Hence, the tensor product functor is right exact. Similarly, we want to find out when would it be exact. Generally, it is not true.
\begin{example}
	Consider $f : \mathbb{Z} \to \mathbb{Z}$ defined by $x \mapsto 2x$, we have the sequence 
	\[\begin{tikzcd}[column sep=scriptsize]
	0 && {\mathbb{Z}} && {\mathbb{Z}} && {\mathbb{Z}/2\mathbb{Z}} && 0
	\arrow[from=1-1, to=1-3]
	\arrow["f", from=1-3, to=1-5]
	\arrow["\pi", from=1-5, to=1-7]
	\arrow[from=1-7, to=1-9]
\end{tikzcd}\]
exact. Now we tensor the sequence with $\mathbb{Z}/4\mathbb{Z}$, which cannot be exact since $f \otimes_\mathbb{Z} \mathbb{Z}/4\mathbb{Z} : x + 4\mathbb{Z} \mapsto 2x + 4\mathbb{Z}$ is no longer injective.
\end{example}
\begin{definition}
	Let $R$ be a ring. An $R$-module $M$ is called \textbf{flat} if functor $(-)\otimes_R M$ is exact.
\end{definition}

Now let us recall the definition of colimits we learned in category theory, but this time in $R\text{-}\mathsf{Mod}$ category.

Suppose we have a direct system $\mathscr{I} = (A_i, \mu_{ij})$ and an another module $M$ with morphisms $f_i : A_i \to M$ coherent with the system. By the universal property of colimits, there exists some $g : \varinjlim A_i \to M$ with $g_i : A_i \to \varinjlim A_i$ which commutes the cone. Now let us ingore the morphisms $\mu_{ij}$. By the universal property of coproducts, there exists some $f : \bigoplus_{i\in I} A_i \to M$ with $\iota_{i} : A_i \to \bigoplus_{i\in I} A_i$, which commutes the following diagram:
\[\begin{tikzcd}[column sep=scriptsize]
	&& M \\
	{\varinjlim A_i} &&&& {\bigoplus_{i\in I} A_i} \\
	\\
	& {A_i} && {A_j}
	\arrow["g", from=2-1, to=1-3]
	\arrow["f"', from=2-5, to=1-3]
	\arrow["u"{description}, from=2-5, to=2-1]
	\arrow["{f_i}"{description}, from=4-2, to=1-3]
	\arrow["{g_i}"{description}, from=4-2, to=2-1]
	\arrow["{\iota_i}"{description}, from=4-2, to=2-5]
	\arrow["{\mu_{ij}}", from=4-2, to=4-4]
	\arrow["{f_j}"{description}, from=4-4, to=1-3]
	\arrow["{g_j}"{description}, from=4-4, to=2-1]
	\arrow["{\iota_j}"{description}, from=4-4, to=2-5]
\end{tikzcd}\]
Since $g \circ u \circ \iota_i = g \circ g_i = f_i$ for any $A_i \in \mathscr{I}$, we obtain $f = g \circ u$. It shows us a fact: \textit{any morphisms $f : \bigoplus_{i\in I} A_i \to M$ coherent with the system must factor through $\varinjlim A_i$}. Hence, it is natural to construct $\varinjlim A_i$ as some quotient of $\bigoplus_{i\in I} A_i$.
\begin{proposition}
	Let $(A_i, \mu_{ij})$ be a direct system, $N$ be the module defined as $N = \left<\HIm(\iota_i - \iota_j\circ \mu_{ij})\right>$. Then the module $\bigoplus_{i\in I} A_i \big/ N$ satisfies the universal property of the colimit.
\end{proposition}
\begin{proof}
	Since $f_i = f_j \circ \mu_{ij}$ for any $\mu_{ij} : A_i \to A_j$, we have $f \circ \iota_i = f \circ \iota_j \circ \mu_{ij}$, which implies that $f \circ (\iota_{i} - \iota_j \circ \mu_{ij}) = 0$. Hence, $f(N) \equiv 0$. By the universal property of the quotient, there exists a unique $g : \bigoplus_{i\in I} A_i \big/ N \to M$ which commutes the diagram above. 

	Let $u$ be the cannonical quotient morphism, then it is trivial to verify that $g_i = u \circ \iota_i$ satisfies the coherent conditions. Those are exactly the universal property of the colimit. 
\end{proof}

Now suppose we have two direct systems $(A_i, \varphi_{ij})$ and $(B_i, \psi_{ij})$. Let $\tau_i : A_i \to B_i$ be a family of morphisms compatible with the system, i.e. the following diagram:
\[\begin{tikzcd}[column sep=scriptsize]
	{A_i} && {B_i} \\
	\\
	{A_j} && {B_j}
	\arrow["{\tau_i}", from=1-1, to=1-3]
	\arrow["{\varphi_{ij}}", from=1-1, to=3-1]
	\arrow["{\psi_{ij}}"', from=1-3, to=3-3]
	\arrow["{\tau_j}", from=3-1, to=3-3]
\end{tikzcd}\]
commutes for each $\varphi_{ij} : A_i \to A_j$. (You can recognize $\tau_i$ as a funtor in category $\mathscr{A}^{\mathscr{I}}$.) Assume that the two systems both admit their colimits, then naturally it induces a morphism $\varinjlim \tau_i : \varinjlim A_i \to \varinjlim B_i$ via the following commutative diagram:
\[\begin{tikzcd}[column sep=scriptsize]
	{\varinjlim A_i} &&&& {\varinjlim B_i} \\
	& {A_i} && {B_i} \\
	\\
	& {A_j} && {B_j}
	\arrow["{\varinjlim \tau_i}", from=1-1, to=1-5]
	\arrow["{\iota_i}"', from=2-2, to=1-1]
	\arrow["{\tau_i}", from=2-2, to=2-4]
	\arrow["{\varphi_{ij}}", from=2-2, to=4-2]
	\arrow["{\gamma_i}", from=2-4, to=1-5]
	\arrow["{\psi_{ij}}"', from=2-4, to=4-4]
	\arrow["{\iota_j}"', from=4-2, to=1-1]
	\arrow["{\tau_j}", from=4-2, to=4-4]
	\arrow["{\gamma_j}", from=4-4, to=1-5]
\end{tikzcd}\]

A natural question is: suppose there are some exact sequences $A_i \xrightarrow{f_i} B_i \xrightarrow{g_i} C_i$, both compatible with the system, then is the sequence $$\varinjlim A_i \xrightarrow{\varinjlim f_i} \varinjlim B_i \xrightarrow{\varinjlim g_i} \varinjlim C_i$$ exact? It is not true in general. However, under some special direct systems, the colimit does preserve exactness.

\begin{proposition}
	Direct sums in $R\text{-}\mathsf{Mod}$ category preserves exactness.
\end{proposition}
\begin{proof}
	Suppose we have the exact sequences $A_i \xrightarrow{f_i} B_i \xrightarrow{g_i} C_i$. Notice that in $R\text{-}\mathsf{Mod}$ category we have $$\Ker\left(\bigoplus_{i\in I} f_i\right) = \bigoplus_{i\in I}\Ker f_i, \qquad \HIm\left(\bigoplus_{i\in I} f_i\right) = \bigoplus_{i\in I}\HIm f_i,$$
	which completes the proof by the exactness of the original sequences.
\end{proof}
\begin{corollary}
	Direct sum of flat modules is still flat.
\end{corollary}
\begin{proof}
	Consider the following commutative diagram:
	\[\begin{tikzcd}[column sep=scriptsize]
	0 & {M\otimes(\bigoplus_{i\in I}A_i)} & {N\otimes(\bigoplus_{i\in I}A_i)} & {Q\otimes(\bigoplus_{i\in I}A_i)} & 0 \\
	0 & {\bigoplus_{i\in I} M\otimes A_i} & {\bigoplus_{i\in I} N\otimes A_i} & {\bigoplus_{i\in I} Q\otimes A_i} & 0
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["\cong", hook, two heads, from=1-2, to=2-2]
	\arrow["g", from=1-3, to=1-4]
	\arrow["\cong", hook, two heads, from=1-3, to=2-3]
	\arrow[from=1-4, to=1-5]
	\arrow["\cong"', hook, two heads, from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
The lower sequence is exact since each $0 \rightarrow M\otimes A_i \rightarrow N\otimes A_i \rightarrow Q \otimes A_i \rightarrow 0$ is exact by the flatness. Hence, the upper one is also exact.
\end{proof}

Similarly, it is trivial to see that $\bigoplus_{i \in I} A_i \to \bigoplus_{i \in I} B_i \to \bigoplus_{i \in I} C_i$ is exact if and only if each $A_i \to B_i \to C_i$ is exact. Hence we obtain:
\begin{corollary}
	Direct summands of flat modules are still flat.
\end{corollary}
The corollary in fact shows an important result:
\begin{theorem}
	Projective modules are flat.
\end{theorem}
\begin{proof}
	It is suffices to show $R$ itself as $R$-module is flat, which is obvious since $M\otimes_R R \cong M$ for any $R$-module $M$. Hence, free modules, being some direct sums of $R$, are flat. Each projective module is a direct summand of some free module, which implies the flatness.
\end{proof}
But not every flat module is projective.
\begin{example}
	$\mathbb{Q}$ as $\mathbb{Z}$-module is flat, but not projective.
\end{example}
\begin{proof}
	To show the flatness, we only need to verify that it preserves injectivity. Suppose $f : M \to N$ be a monomorphism between $M$, $N$, two $\mathbb{Z}$-modules. Let $v \in \ker(f\otimes 1) \subset M \otimes \mathbb{Q}$. There are some $m_i \in M$ and $q_i \in \mathbb{Q}$ such that $v = \sum_{i=1}^k q_i m_i$. Multipy $v$ with some $l \in \mathbb{Z}$ such that each coefficient of $m_i$ is in $\mathbb{Z}$, we have $lv \in M$ such that $f(lv) = 0 \Rightarrow lv = 0$. Since $l\neq 0$, we obtain $v = 0$.

	For projectivity, $\mathbb{Z}$ is a PID, hence projective modules are equivalent with free modules. But $\mathbb{Q}$ is not free over $\mathbb{Z}$, as any two $q_1, q_2\in \mathbb{Q}$ is linear dependent.
\end{proof}
\subsection{Derived Functors}